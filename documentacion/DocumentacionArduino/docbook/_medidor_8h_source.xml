<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__medidor_8h_source" xml:lang="en-US">
<title>Medidor.h</title>
<indexterm><primary>C:/Users/stips/Desktop/Sprint0_Tallal - copia/arduino/HolaMundoIBeacon/HolaMundoIBeacon/Medidor.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered">1 <emphasis role="comment">//&#32;-*-&#32;mode:&#32;c++&#32;-*-</emphasis>
2 
3 <emphasis role="preprocessor">#ifndef&#32;MEDIDOR_H_INCLUIDO</emphasis>
4 <emphasis role="preprocessor">#define&#32;MEDIDOR_H_INCLUIDO</emphasis>
5 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1af832d0f3202d40d8dd41ddd765c66880">sensorData</link>&#32;[11];
6 
7 <emphasis role="comment">//&#32;------------------------------------------------------</emphasis>
8 <emphasis role="comment">//&#32;------------------------------------------------------</emphasis>
9 <emphasis role="comment">//_____________-pins______________</emphasis>
10 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1a1b0de7b9ff9ea2f5f09b0cde2cc57c99">Pgas</link>&#32;=&#32;5;
11 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1ae563113bdccf1ed93e120a8d5bee97a9">Pref</link>&#32;=&#32;28;
12 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1a1851a3c631827974624736273c4113b5">Ptemp</link>&#32;=&#32;29;
13 
14 <emphasis role="comment">//-----------------------analog---------</emphasis>
15 
16 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1acc6bd2c9594f49e824c439a293d799f9">Vgas_value</link>&#32;=&#32;0;
17 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1aa9b8fd6c47889cab332bccf08e071477">Vref_value</link>&#32;=&#32;0;
18 <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__medidor_8h_1ad5c890a2e3ddd839d5dfe28c635e3852">Vtmp_value</link>&#32;=&#32;0;
19 
20 
21 <emphasis role="keywordtype">float</emphasis>&#32;<link linkend="__medidor_8h_1a036e77f98fbf5ae1d19ec8dc38433c03">M</link>&#32;=&#32;499&#32;*&#32;pow(10,&#32;-6);
22 <emphasis role="keywordtype">float</emphasis>&#32;<link linkend="__medidor_8h_1a039f66cd91482181b873e11865f97333">sensitivityCode</link>&#32;=&#32;-41.26;<emphasis role="comment">//&#32;valor&#32;desconocido&#32;</emphasis>
23 <emphasis role="keywordtype">float</emphasis>&#32;<link linkend="__medidor_8h_1a99f6dd6f6fba5feb04bc815a9a0385ff">resultado</link>&#32;=&#32;<link linkend="__medidor_8h_1a039f66cd91482181b873e11865f97333">sensitivityCode</link>&#32;*&#32;<link linkend="__medidor_8h_1a036e77f98fbf5ae1d19ec8dc38433c03">M</link>;
24 
25 <emphasis role="comment">//------------------------------------------------------</emphasis>
26 <emphasis role="keywordtype">double</emphasis>&#32;<link linkend="__medidor_8h_1aa4b35122f31c070d6ed2996d4f6ae187">medida_temp</link>(<emphasis role="keywordtype">double</emphasis>&#32;Vtemp)&#32;{
27 &#32;&#32;
28 &#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;temp=Vtemp*3.3/4096;
29 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(87&#32;*&#32;temp)&#32;-&#32;18;
30 }
31 
32 
33 <emphasis role="comment">//--------------------------------</emphasis>
34 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__medidor_8h_1ad1442cdba77049a36e2bf021422a6f00">Serial1InParser</link>()
35 {
36 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;
37 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=0;&#32;i&lt;11;&#32;i++)&#32;{
38 &#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//while(!Serial1.available())&#32;{&#32;}</emphasis>
39 &#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__medidor_8h_1af832d0f3202d40d8dd41ddd765c66880">sensorData</link>[i]&#32;=&#32;Serial.parseInt();
40 &#32;&#32;&#32;&#32;}
41 }
42 
43 <emphasis role="keyword">class&#32;</emphasis><link linkend="_class_medidor">Medidor</link>&#32;{
44 
45 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
46 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
47 <emphasis role="keyword">private</emphasis>:
48 
49 <emphasis role="keyword">public</emphasis>:
50 
51 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
52 &#32;&#32;<emphasis role="comment">//&#32;constructor</emphasis>
53 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
54 &#32;&#32;<link linkend="_class_medidor_1af8dd93b883c64f28bd898c4baaa73dc9">Medidor</link>(&#32;&#32;)&#32;{
55 &#32;&#32;}&#32;<emphasis role="comment">//&#32;()</emphasis>
56 
57 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
58 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
59 &#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_medidor_1a1d26e993a9198fac83d6edad4cc30bcf">iniciarMedidor</link>()&#32;{
60 &#32;&#32;&#32;&#32;<emphasis role="comment">//Serial1InParser();</emphasis>
61 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;las&#32;cosas&#32;que&#32;no&#32;se&#32;puedan&#32;hacer&#32;en&#32;el&#32;constructor,&#32;if&#32;any</emphasis>
62 &#32;&#32;}&#32;<emphasis role="comment">//&#32;()</emphasis>
63 
64 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
65 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
66 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_class_medidor_1a203ae9be3a2bf0965bd9316fcd203e19">medirCO2</link>()&#32;{
67 &#32;&#32;&#32;&#32;<link linkend="__medidor_8h_1acc6bd2c9594f49e824c439a293d799f9">Vgas_value</link>&#32;=analogRead(<link linkend="__medidor_8h_1a1b0de7b9ff9ea2f5f09b0cde2cc57c99">Pgas</link>);<emphasis role="comment">//&#32;Analogggggggggggggggg</emphasis>
68 &#32;&#32;&#32;&#32;<link linkend="__medidor_8h_1aa9b8fd6c47889cab332bccf08e071477">Vref_value</link>&#32;=&#32;analogRead(<link linkend="__medidor_8h_1ae563113bdccf1ed93e120a8d5bee97a9">Pref</link>);<emphasis role="comment">//&#32;Analogggggggggggggggg</emphasis>
69 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;concentracion&#32;=&#32;(1/<link linkend="__medidor_8h_1a99f6dd6f6fba5feb04bc815a9a0385ff">resultado</link>)&#32;*&#32;(<link linkend="__medidor_8h_1acc6bd2c9594f49e824c439a293d799f9">Vgas_value</link>&#32;-&#32;<link linkend="__medidor_8h_1aa9b8fd6c47889cab332bccf08e071477">Vref_value</link>)&#32;*&#32;(3.3/4096);
70 &#32;&#32;&#32;&#32;Serial.print(<emphasis role="stringliteral">&quot;concentracion&quot;</emphasis>);
71 &#32;&#32;&#32;&#32;Serial.print(concentracion);
72 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;concentracion;
73 &#32;&#32;&#32;&#32;<emphasis role="comment">//return&#32;medida_temp(analogRead(Ptemp));</emphasis>
74 &#32;&#32;}&#32;<emphasis role="comment">//&#32;()</emphasis>
75 
76 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
77 &#32;&#32;<emphasis role="comment">//&#32;.....................................................</emphasis>
78 &#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_class_medidor_1a742eaebe02e1d1d67df55f7a73878421">medirTemperatura</link>()&#32;{
79 &#32;&#32;&#32;&#32;<emphasis role="comment">//return&#32;sensorData&#32;[2]&#32;;</emphasis>
80 &#32;&#32;&#32;&#32;<emphasis role="comment">//return&#32;medida_temp(analogRead(sensorData&#32;[2]));</emphasis>
81 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__medidor_8h_1aa4b35122f31c070d6ed2996d4f6ae187">medida_temp</link>(analogRead(<link linkend="__medidor_8h_1a1851a3c631827974624736273c4113b5">Ptemp</link>));
82 &#32;&#32;}&#32;<emphasis role="comment">//&#32;()</emphasis>
83 &#32;&#32;&#32;&#32;
84 };&#32;<emphasis role="comment">//&#32;class</emphasis>
85 
86 <emphasis role="comment">//&#32;------------------------------------------------------</emphasis>
87 <emphasis role="comment">//&#32;------------------------------------------------------</emphasis>
88 <emphasis role="comment">//&#32;------------------------------------------------------</emphasis>
89 <emphasis role="comment">//&#32;------------------------------------------------------</emphasis>
90 <emphasis role="preprocessor">#endif</emphasis>
</programlisting></section>
